<!DOCTYPE html>
<html lang="en">
<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Miminium Admin Template v.1">
	<meta name="author" content="Isna Nur Azis">
	<meta name="keyword" content="">
	<title>Radical Cashier</title>

	<!-- plugins -->
	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>

	<!-- start: Css -->
	<link rel="stylesheet" type="text/css" href="asset/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/font-awesome.min.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/select2.min.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/handsontable.full.min.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/simple-line-icons.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/animate.min.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/fullcalendar.min.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/mediaelementplayer.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/plugins/bootstrap-material-datetimepicker.css"/>
	<link rel="stylesheet" type="text/css" href="asset/css/datepicker.css"/>
	<link rel="stylesheet" type="text/css" media="all" href="asset/css/autocompletestyle.css">
	<link rel="stylesheet" type="text/css" href="asset/css/style.css">
  <link rel="stylesheet" type="text/css" href="dist/sweetalert.css">
	<!-- end: Css -->

	<link rel="shortcut icon" href="asset/img/logomi.png">
	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>

<body id="mimin" class="dashboard">

	<audio id="nomor" src=""></audio>
	<audio id="jenis" src=""></audio>

	<!-- start: Header -->
	<nav class="navbar navbar-default header navbar-fixed-top">
		<div class="col-md-12 nav-wrapper">
			<div class="navbar-header" style="width:100%;">
				<a href="index.html" class="navbar-brand">
					<b>RADICAL CASHIER</b>
				</a>
			</div>
		</div>
	</nav>
	<!-- end: Header -->

	<div class="container-fluid mimin-wrapper">

		<!-- start: content -->
		<div id="content">

			<div class="col-md-12" style="padding:20px;">
				<div class="col-md-12 padding-0">
					<div class="col-md-7 padding-0">
						<div class="col-md-12 padding-0">
							<div class="panel box-v4">
								<div class="panel-body">
									<table  id="tablePesanan" class="table" cellpadding="3">
										<!-- <col width="1">
										<col width="200">
										<col width="80">
										<col width="80">
										<col width="1">
										<col width="90"> -->
										<thead>
											<tr>
												<th >Name</th>
												<th >Media</th>
												<th >Size</th>
												<th >Weight</th>
												<th >Qty</th>
												<th >Price</th>
											</tr>
										</thead>
										<tbody id="orderTable">

										</tbody>
									</table>
									<input type="button" class="btn btn-primary right" id="btnBayar" value="Bayar">
									<a href="" id="printBtn"> Print</a>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-5">
						<div class="col-md-12 padding-0">

							<!-- Panel bon & pelanggan -->
							<div class="panel box-v4">
								<div class="panel-body" style="padding-top:30px;">
									<div class="form-group">
										<label class="col-sm-2 control-label text-right padding-7">No. Bon</label>
										<div class="col-sm-10">
											<input type="text" class="form-control" id="bonTextBox">
										</div>
									</div>
									<br><br>
									<div class="form-group">
										<label class="col-sm-2 control-label text-right padding-7">Tanggal</label>
										<div class="col-sm-10">
											<input type="text" id="tgl" class="form-control" disabled="">
										</div>
									</div>
									<div class="form-group form-animate-text" style="margin-top:40px !important;">
										<input type="text" class="form-text biginput" id="namaPelanggan" required>
										<span class="bar"></span>
										<label>Pelanggan</label>
									</div>
									<div class="form-group form-animate-text" style="margin-top:40px !important;">
										<input type="text" id="telpPelanggan" class="form-text mask-phone_us" required>
										<span class="bar"></span>
										<label>Telepon</label>
									</div>
								</div>
							</div>
						</div>
							<!-- End panel bon & pelanggan -->

							<!-- start panel pengambilan -->
							<div class="col-md-12 padding-0">
								<div class="panel">
									<div class="panel-body">
										<div class="col-md-6 padding-0">
											<br>

											<!-- Date Picker -->
											<div class="form-group form-animate-text">
												<input type="text" id="date" class="form-text date" required="" data-dtp="dtp_HtEez">
												<span class="bar"></span>
												<label><span class="fa fa-calendar"></span> Diambil Tanggal:</label>
											</div>

											<!-- Time Picker -->
											<div class="form-group form-animate-text">
												<input type="text" id="time" class="form-text mask-time" required="">
												<span class="bar"></span>
												<label><span class="fa fa-clock-o"></span> Diambil Jam:</label>
											</div>

										</div>
										<div class="col-md-6">
											<!-- textarea keterangan -->
											<b>Information</b><br>
											<textarea id="info" rows="8" cols="27"></textarea>
											<br><br>
											<!-- button -->
											<input type="button" id="resetInfo"class="btn btn-primary col-md-5" value="Reset">
											<div class="col-md-2"></div>
											<input type="button" id="saveInfo" class="btn btn-primary col-md-5" value="Save">
										</div>
									</div>
								</div>
							</div>
							<!-- End panel pengambilan -->

							<!-- Panel member -->
							<div class="panel box-v4">
								<div class="panel-body">
									<h4 class="panel-title">Member</h4><br>

									<div class="col-sm-3"></div>
									<a href="generateBarcode.html"><input type="button col-sm-4 right" class="btn btn-primary" value="Generate Barcode"></a>
								</div>
							</div>

						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- end: content -->

	<!-- start: Javascript -->
	<script src="asset/js/jquery.min.js"></script>
	<script src="asset/js/jquery.ui.min.js"></script>
	<script src="asset/js/bootstrap.min.js"></script>


	<!-- plugins -->
	<script src="asset/js/plugins/moment.min.js"></script>
	<script src="asset/js/plugins/handsontable.full.min.js"></script>
	<script src="asset/js/plugins/fullcalendar.min.js"></script>
	<script src="asset/js/plugins/jquery.nicescroll.js"></script>
	<script src="asset/js/plugins/jquery.vmap.min.js"></script>
	<script src="asset/js/plugins/maps/jquery.vmap.world.js"></script>
	<script src="asset/js/plugins/jquery.vmap.sampledata.js"></script>
	<script src="asset/js/plugins/chart.min.js"></script>
	<script src="asset/js/plugins/jquery.validate.min.js"></script>
	<script src="asset/js/plugins/jquery.mask.min.js"></script>
	<script src="asset/js/plugins/bootstrap-material-datetimepicker.js"></script>
	<script src="asset/js/bootstrap.min.js"></script>
	<script src="asset/js/plugins/select2.full.min.js"></script>
	<script src="asset/js/bootstrap-datepicker.js"></script>
	<script src="asset/js/jquery.autocomplete.min.js"></script>
  <script src="dist/sweetalert-dev.js"></script>
	<script type="text/javascript" src="../API/api.js"></script>

	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script type="text/plain" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	<script type="text/plain" src="https://raw.githubusercontent.com/moment/moment/develop/moment.js"></script>
	<script type="text/plain" src="https://raw.githubusercontent.com/moment/moment/master/locale/id.js"></script>
	<script type="text/plain" src="https://raw.githubusercontent.com/Eonasdan/bootstrap-datetimepicker/master/build/js/bootstrap-datetimepicker.min.js"></script>

	<!-- custom javascript-->
	<script src="asset/js/main.js"></script>
	<script type="text/javascript">
	$(document).ready(function(){
		var nobon = JSON.parse(localStorage.getItem('objBon'));
		console.log(nobon);
    prepareOrderTable(localStorage.getItem('objBon'));
		refreshOrderDetails(nobon.no_bon);

		$('#printBtn').click(function(){
			newWindow();
		});

		$('#btnBayar').click(function(){
			swal({
				title: "Membership Check",
				text: "Scan the barcode:",
				type: "input",
				showCancelButton: true,
				closeOnConfirm: false,
				animation: "slide-from-top"},
				function(inputValue){
					if (inputValue === false) return false;
					if (inputValue === "") {
						swal({
							title: "Bayar",
							text: "Masukkan nominal yang dibayarkan:",
							type: "input",
							showCancelButton: true,
							closeOnConfirm: false,
							animation: "slide-from-top"},
							function(inputVal){
								if (inputVal === false) return false;
								if (inputVal === "") {
									swal.showInputError("You need to input!");
									return false
								} else {
									pay(inputVal);
									swal("Nice!", "Transaksi berhasil", "success");
								}
							});
						} else {
							getDisc(inputValue);
							swal({
								title: "Bayar",
								text: "Masukkan nominal yang dibayarkan:",
								type: "input",
								showCancelButton: true,
								closeOnConfirm: false,
								animation: "slide-from-top"},
								function(inputVal){
									if (inputVal === false) return false;
									if (inputVal === "") {
										swal.showInputError("You need to input!");
										return false
									} else {
										pay(inputVal);
										swal("Nice!", "Transaksi berhasil", "success");
									}
								});
							}
						});
					});

		$("#signupForm").validate({
			errorElement: "em",
			errorPlacement: function(error, element) {
				$(element.parent("div").addClass("form-animate-error"));
				error.appendTo(element.parent("div"));
			},
			success: function(label) {
				$(label.parent("div").removeClass("form-animate-error"));
			},
			rules: {
				validate_firstname: "required",
				validate_lastname: "required",
				validate_username: {
					required: true,
					minlength: 2
				},
				validate_password: {
					required: true,
					minlength: 5
				},
				validate_confirm_password: {
					required: true,
					minlength: 5,
					equalTo: "#validate_password"
				},
				validate_email: {
					required: true,
					email: true
				},
				validate_agree: "required"
			},
			messages: {
				validate_firstname: "Please enter your firstname",
				validate_lastname: "Please enter your lastname",
				validate_username: {
					required: "Please enter a username",
					minlength: "Your username must consist of at least 2 characters"
				},
				validate_password: {
					required: "Please provide a password",
					minlength: "Your password must be at least 5 characters long"
				},
				validate_confirm_password: {
					required: "Please provide a password",
					minlength: "Your password must be at least 5 characters long",
					equalTo: "Please enter the same password as above"
				},
				validate_email: "Please enter a valid email address",
				validate_agree: "Please accept our policy"
			}
		});

		// propose username by combining first- and lastname
		$("#username").focus(function() {
			var firstname = $("#firstname").val();
			var lastname = $("#lastname").val();
			if (firstname && lastname && !this.value) {
				this.value = firstname + "." + lastname;
			}
		});

		$('.mask-date').mask('00/00/0000');
		$('.mask-time').mask('00:00');
		$('.mask-date_time').mask('00/00/0000 00:00:00');
		$('.mask-cep').mask('00000-000');
		$('.mask-phone').mask('0000-0000');
		$('.mask-currency').mask('Rp. 000.000.000');
		$('.mask-phone_with_ddd').mask('(00) 0000-0000');
		$('.mask-phone_us').mask('000-000-000-000');
		$('.mask-time-h-m').mask('00:00');
		$('.mask-mixed').mask('AAA 000-S0S');
		$('.mask-cpf').mask('000.000.000-00', {reverse: true});
		$('.mask-money').mask('000.000.000.000.000,00', {reverse: true});
		$('.mask-money2').mask("#.##0,00", {reverse: true});
		$('.mask-ip_address').mask('0ZZ.0ZZ.0ZZ.0ZZ', {
			translation: {
				'Z': {
					pattern: /[0-9]/, optional: true
				}
			}
		});
		$('.mask-ip_address').mask('099.099.099.099');
		$('.mask-percent').mask('##0,00%', {reverse: true});
		$('.mask-clear-if-not-match').mask("00/00/0000", {clearIfNotMatch: true});
		$('.mask-placeholder').mask("00/00/0000", {placeholder: "__/__/____"});
		$('.mask-fallback').mask("00r00r0000", {
			translation: {
				'r': {
					pattern: /[\/]/,
					fallback: '/'
				},
				placeholder: "__/__/____"
			}
		});
		$('.mask-selectonfocus').mask("00/00/0000", {selectOnFocus: true});

		var options =  {onKeyPress: function(cep, e, field, options){
			var masks = ['00000-000', '0-00-00-00'];
			mask = (cep.length>7) ? masks[1] : masks[0];
			$('.mask-crazy_cep').mask(mask, options);
		}};

		$('.mask-crazy_cep').mask('00000-000', options);

		var options2 =  {
			onComplete: function(cep) {
				alert('CEP Completed!:' + cep);
			},
			onKeyPress: function(cep, event, currentField, options){
				console.log('An key was pressed!:', cep, ' event: ', event,
				'currentField: ', currentField, ' options: ', options);
			},
			onChange: function(cep){
				console.log('cep changed! ', cep);
			},
			onInvalid: function(val, e, f, invalid, options){
				var error = invalid[0];
				console.log ("Digit: ", error.v, " is invalid for the position: ", error.p, ". We expect something like: ", error.e);
			}
		};

		$('.mask-cep_with_callback').mask('00000-000', options2);

		var SPMaskBehavior = function (val) {
			return val.replace(/\D/g, '').length === 11 ? '(00) 00000-0000' : '(00) 0000-00009';
		},
		spOptions = {
			onKeyPress: function(val, e, field, options) {
				field.mask(SPMaskBehavior.apply({}, arguments), options);
			}
		};

		$('.mask-sp_celphones').mask(SPMaskBehavior, spOptions);

		$(".select2-A").select2({
			placeholder: "Select a state",
			allowClear: true
		});

		$(".select2-B").select2({
			tags: true
		});

		$('.dateAnimate').bootstrapMaterialDatePicker({ weekStart : 0, time: false,animation:true});
		$('.date').bootstrapMaterialDatePicker({ weekStart : 0, time: false});
		$('.time').bootstrapMaterialDatePicker({ date: false,format:'HH:mm',animation:true});
		$('.datetime').bootstrapMaterialDatePicker({ format : 'dddd DD MMMM YYYY - HH:mm',animation:true});
		$('.date-fr').bootstrapMaterialDatePicker({ format : 'DD/MM/YYYY HH:mm', lang : 'fr', weekStart : 1, cancelText : 'ANNULER'});
		$('.min-date').bootstrapMaterialDatePicker({ format : 'DD/MM/YYYY HH:mm', minDate : new Date() });

	});
	</script>
	<!-- end: Javascript -->

	<!-- custom -->
	<script src="asset/js/main.js"></script>
	<!-- end: Javascript -->
</body>
</html>
